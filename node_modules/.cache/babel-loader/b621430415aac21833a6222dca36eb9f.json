{"ast":null,"code":"var _jsxFileName = \"/Users/jaesmacbook/Desktop/Fullstack_work/fitnessProject/UNIV_FitnessTrackr_Frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\n// import './App.css';\nimport './App.css';\nimport { Activities, Login, Register, Routines, Home, Post, Navbar, CreateRoutine, EditRoutine } from './components';\nimport { getRoutines, getUserDetails } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [routines, setRoutines] = useState([]);\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState({});\n  const navigate = useNavigate();\n  function logout() {\n    window.localStorage.removeItem('token');\n    setToken('');\n    setUser({});\n  }\n  async function fetchRoutines() {\n    const results = await getRoutines(token);\n    setRoutines(results.data.routines);\n  }\n  async function getMe() {\n    const storedToken = window.localStorage.getItem('token');\n    if (!token) {\n      if (storedToken) {\n        setToken(storedToken);\n      }\n      return;\n    }\n    const results = await getUserDetails(token);\n    if (results.success) {\n      setUser(results.data);\n    } else {\n      console.log(results.error.message);\n    }\n  }\n  useEffect(() => {\n    fetchRoutines();\n  }, [token]);\n  useEffect(() => {\n    getMe();\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      logout: logout,\n      token: token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"\",\n        element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Activities\",\n        element: /*#__PURE__*/_jsxDEV(Activities\n        //activities={activities} \n        , {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/routines\",\n        element: /*#__PURE__*/_jsxDEV(Routines\n        //routines={routines}\n        , {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/routines/create-routine\",\n        element: /*#__PURE__*/_jsxDEV(CreateRoutine, {\n          token: token,\n          fetchRoutines: fetchRoutines,\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/routines/edit-routine/:routineID\",\n        element: /*#__PURE__*/_jsxDEV(EditRoutine, {\n          routines: routines,\n          token: token,\n          fetchRoutines: fetchRoutines,\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        element: /*#__PURE__*/_jsxDEV(Profile, {\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        element: /*#__PURE__*/_jsxDEV(Register, {\n          setToken: setToken,\n          token: token,\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          setToken: setToken,\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"A6pyZa1uLGRmXwQ97SRDSx8V6ZQ=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Route","Routes","useNavigate","Activities","Login","Register","Routines","Home","Post","Navbar","CreateRoutine","EditRoutine","getRoutines","getUserDetails","App","routines","setRoutines","token","setToken","user","setUser","navigate","logout","window","localStorage","removeItem","fetchRoutines","results","data","getMe","storedToken","getItem","success","console","log","error","message"],"sources":["/Users/jaesmacbook/Desktop/Fullstack_work/fitnessProject/UNIV_FitnessTrackr_Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\n// import './App.css';\nimport './App.css';\n\n\nimport {\n  Activities,\n  Login,\n  Register,\n  Routines,\n  Home,\n  Post,\n  Navbar,\n  CreateRoutine,\n  EditRoutine\n} from './components'; \n\nimport {\n  getRoutines,\n  getUserDetails\n} from './api';\n\n\nconst App = () => {\n  \n const [routines, setRoutines] = useState([]);\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState({});\n  \n  const navigate = useNavigate();\n\n  \n  function logout() {\n    window.localStorage.removeItem('token');\n    setToken('');\n    setUser({});\n  }\n  \n  async function fetchRoutines() {\n    const results = await getRoutines(token)\n    setRoutines(results.data.routines);\n  }\n  \n  async function getMe() {\n    const storedToken = window.localStorage.getItem('token');\n    \n    if (!token) {\n      if (storedToken) {\n        setToken(storedToken);\n      }\n      return;\n    }\n    \n    const results = await getUserDetails(token)\n    if (results.success) {\n      setUser(results.data);\n    } else {\n      console.log(results.error.message);\n    }\n  }\n  \n  useEffect(() => {\n    fetchRoutines();\n  }, [token])\n  \n  useEffect(() => {\n    getMe();\n  }, [token])\n  \n  return (\n    <div>\n    \n      <Navbar logout={ logout } token={ token }/>\n\n    <Routes>\n\n\n      <Route\n        path=''\n        element={<Home />}\n      />\n\n      <Route \n        path='/Activities' \n        element={<Activities \n        //activities={activities} \n    />} \n    />\n\n<Route \n      path='/routines'\n      element={<Routines\n      //routines={routines}\n    />}\n    />\n<Route\n          exact path='/routines/create-routine'\n          element={<CreateRoutine \n            token={ token } \n            fetchRoutines={ fetchRoutines } \n            navigate={ navigate }\n          /> }\n        />\n\n<Route\n          exact path='/routines/edit-routine/:routineID'\n          element={<EditRoutine\n            routines={ routines }\n            token={ token }\n            fetchRoutines={ fetchRoutines } \n            navigate={ navigate }\n          />}\n        />\n\n\n<Route \n          path='/profile' \n          element={<Profile \n          user={ user }/>} \n   />\n\n <Route \n    path='/register' \n    element={<Register \n    setToken={ setToken } \n    token={token} \n    navigate={navigate} \n  />} \n/>\n<Route\n    path='/login'\n    element={ <Login \n    setToken={ setToken }\n    navigate={ navigate }\n  />}\n/>\n</Routes>\n  \n    </div>\n  );\n} \n\n\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,KAAK,EAAEC,MAAM,EAAEC,WAAW,QAAQ,kBAAkB;AAC7D;AACA,OAAO,WAAW;AAGlB,SACEC,UAAU,EACVC,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACRC,IAAI,EACJC,IAAI,EACJC,MAAM,EACNC,aAAa,EACbC,WAAW,QACN,cAAc;AAErB,SACEC,WAAW,EACXC,cAAc,QACT,OAAO;AAAC;AAGf,MAAMC,GAAG,GAAG,MAAM;EAAA;EAEjB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpC,MAAMuB,QAAQ,GAAGnB,WAAW,EAAE;EAG9B,SAASoB,MAAM,GAAG;IAChBC,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IACvCP,QAAQ,CAAC,EAAE,CAAC;IACZE,OAAO,CAAC,CAAC,CAAC,CAAC;EACb;EAEA,eAAeM,aAAa,GAAG;IAC7B,MAAMC,OAAO,GAAG,MAAMf,WAAW,CAACK,KAAK,CAAC;IACxCD,WAAW,CAACW,OAAO,CAACC,IAAI,CAACb,QAAQ,CAAC;EACpC;EAEA,eAAec,KAAK,GAAG;IACrB,MAAMC,WAAW,GAAGP,MAAM,CAACC,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;IAExD,IAAI,CAACd,KAAK,EAAE;MACV,IAAIa,WAAW,EAAE;QACfZ,QAAQ,CAACY,WAAW,CAAC;MACvB;MACA;IACF;IAEA,MAAMH,OAAO,GAAG,MAAMd,cAAc,CAACI,KAAK,CAAC;IAC3C,IAAIU,OAAO,CAACK,OAAO,EAAE;MACnBZ,OAAO,CAACO,OAAO,CAACC,IAAI,CAAC;IACvB,CAAC,MAAM;MACLK,OAAO,CAACC,GAAG,CAACP,OAAO,CAACQ,KAAK,CAACC,OAAO,CAAC;IACpC;EACF;EAEArC,SAAS,CAAC,MAAM;IACd2B,aAAa,EAAE;EACjB,CAAC,EAAE,CAACT,KAAK,CAAC,CAAC;EAEXlB,SAAS,CAAC,MAAM;IACd8B,KAAK,EAAE;EACT,CAAC,EAAE,CAACZ,KAAK,CAAC,CAAC;EAEX,oBACE;IAAA,wBAEE,QAAC,MAAM;MAAC,MAAM,EAAGK,MAAQ;MAAC,KAAK,EAAGL;IAAO;MAAA;MAAA;MAAA;IAAA,QAAE,eAE7C,QAAC,MAAM;MAAA,wBAGL,QAAC,KAAK;QACJ,IAAI,EAAC,EAAE;QACP,OAAO,eAAE,QAAC,IAAI;UAAA;UAAA;UAAA;QAAA;MAAI;QAAA;QAAA;QAAA;MAAA,QAClB,eAEF,QAAC,KAAK;QACJ,IAAI,EAAC,aAAa;QAClB,OAAO,eAAE,QAAC;QACV;QAAA;UAAA;UAAA;UAAA;QAAA;MACD;QAAA;QAAA;QAAA;MAAA,QACD,eAEN,QAAC,KAAK;QACA,IAAI,EAAC,WAAW;QAChB,OAAO,eAAE,QAAC;QACV;QAAA;UAAA;UAAA;UAAA;QAAA;MACC;QAAA;QAAA;QAAA;MAAA,QACD,eACN,QAAC,KAAK;QACI,KAAK;QAAC,IAAI,EAAC,0BAA0B;QACrC,OAAO,eAAE,QAAC,aAAa;UACrB,KAAK,EAAGA,KAAO;UACf,aAAa,EAAGS,aAAe;UAC/B,QAAQ,EAAGL;QAAU;UAAA;UAAA;UAAA;QAAA;MACnB;QAAA;QAAA;QAAA;MAAA,QACJ,eAEV,QAAC,KAAK;QACI,KAAK;QAAC,IAAI,EAAC,mCAAmC;QAC9C,OAAO,eAAE,QAAC,WAAW;UACnB,QAAQ,EAAGN,QAAU;UACrB,KAAK,EAAGE,KAAO;UACf,aAAa,EAAGS,aAAe;UAC/B,QAAQ,EAAGL;QAAU;UAAA;UAAA;UAAA;QAAA;MACpB;QAAA;QAAA;QAAA;MAAA,QACH,eAGV,QAAC,KAAK;QACI,IAAI,EAAC,UAAU;QACf,OAAO,eAAE,QAAC,OAAO;UACjB,IAAI,EAAGF;QAAM;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QACrB,eAEJ,QAAC,KAAK;QACH,IAAI,EAAC,WAAW;QAChB,OAAO,eAAE,QAAC,QAAQ;UAClB,QAAQ,EAAGD,QAAU;UACrB,KAAK,EAAED,KAAM;UACb,QAAQ,EAAEI;QAAS;UAAA;UAAA;UAAA;QAAA;MAClB;QAAA;QAAA;QAAA;MAAA,QACH,eACF,QAAC,KAAK;QACF,IAAI,EAAC,QAAQ;QACb,OAAO,eAAG,QAAC,KAAK;UAChB,QAAQ,EAAGH,QAAU;UACrB,QAAQ,EAAGG;QAAU;UAAA;UAAA;UAAA;QAAA;MACpB;QAAA;QAAA;QAAA;MAAA,QACH;IAAA;MAAA;MAAA;MAAA;IAAA,QACO;EAAA;IAAA;IAAA;IAAA;EAAA,QAEC;AAEV,CAAC;AAAA,GArHKP,GAAG;EAAA,QAMUZ,WAAW;AAAA;AAAA,KANxBY,GAAG;AAyHT,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module"}